@model ViewModels.Models.AddPostViewModel
@{
    ViewBag.Title = "NewPost";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>NewPost</h2>
@*@Html.AntiForgeryToken();
@Html.ValidationSummary();*@
@Html.LabelFor(x=>x.Title)<span class="error" id="erTitle" hidden >Please enter title of the post</span><br />
@Html.TextBoxFor(x=>x.Title)<br />
@Html.LabelFor(x => x.Body)<span class="error" id="erBody" hidden >Please enter body of the post</span><br />
@(Html.Kendo().Editor()
      .Name("editor")
      .HtmlAttributes(new { style = "height:440px", aria_label = "editor" })
      .Resizable(resizable => resizable.Content(true).Toolbar(true))
      //.ImageBrowser(imageBrowser => imageBrowser
      //    .Image("~/Content/UserFiles/Images/{0}")
      //    .Read("Read", "ImageBrowser")
      //    .Create("Create", "ImageBrowser")
      //    .Destroy("Destroy", "ImageBrowser")
      //    .Upload("Upload", "ImageBrowser")
      //    .Thumbnail("Thumbnail", "ImageBrowser")
      //)
      .Value(@<text>
        @*<p>
            <img src="@Url.Content("~/content/web/editor/kendo-ui-web.png")" alt="Editor for ASP.NET MVC logo" style="display:block;margin-left:auto;margin-right:auto;" />
        </p>*@
        <p>
            Kendo UI Editor allows your users to edit HTML in a familiar, user-friendly way.<br />
            In this version, the Editor provides the core HTML editing engine, which includes basic text formatting, hyperlinks, lists,
            and image handling. The widget <strong>outputs identical HTML</strong> across all major browsers, follows
            accessibility standards and provides API for content manipulation.
        </p>
        <p>Features include:</p>
        <ul>
            <li>Text formatting &amp; alignment</li>
            <li>Bulleted and numbered lists</li>
            <li>Hyperlink and image dialogs</li>
            <li>Cross-browser support</li>
            <li>Identical HTML output across browsers</li>
            <li>Gracefully degrades to a <code>textarea</code> when JavaScript is turned off</li>
        </ul>
        <p>
            Read <a href="http://docs.telerik.com/kendo-ui">more details</a> or send us your
            <a href="http://www.telerik.com/forums">feedback</a>!
        </p>
    </text>)
)

<button >Add Post</button>
<script>
    $(document).ready(function(){

        $('button').click(function () {
            debugger;
            $('.error').hide();
            var error = false;
            var title = $('#Title').val();
            var body = $('#editor').val();
            if (title == "" || title == null)
            {
                $('#erTitle').show();
                error = true;
            }
            if (body == "" || body == null) {
                $('#erBody').show();
                error = true;
            }
            if (error)
                return false;
            var post={
                Title: $("#Title").val(),
                Body: $("#editor").data("kendoEditor").value()
                
            }
            debugger;
            $.ajax({
                url: '@Url.Action("NewPost","Posts")',
                type: "POST",
                data: JSON.stringify(post),
                contentType: "application/json;charset=utf-8",
                success: function () {
                    alert('Post Added');
                    //window.location = "../CustomerManagement/EditCustomers?action=added&id=" + JSON.stringify(result, null, 4)
                },
                error: function (result) {

                    return false;
                },
                complete: function () {
                    //alert('success');
                    return false;
                }
            });
        })
    })
</script>